数据倾斜的作用：就是通过不断的优化sql语句是读取信息的时间得到压缩，减少时间的浪费，还可以通过增加map的数量在进一步优化sql来减少时间的浪费。

如下所示

with t1 as (    select  userid,           

​									order_no,           

​									concat**(region,'-',**rand**()) as region,           **

​									product_no,           

​									color_no,           

​									sale_amount,           

​									ts    

​						from date_east ),    

​						t2 as (        select region,               

​													  count**(1) as cnt        **

​											from t1

​											group by region    ),    

​						t3 as (        select region,               

​														substr(region,1,2) as re,      

​														cnt        

​														from t2    ) 

​						select re,       **count**(1) as cnt from t3 

​						group by re;

在Flink CDC的监听中出现 A JNI error has occurred, please check your installation and try again 这样的报错的解决方案

JNI：库文件

![image-20241213091641272](C:\Users\33274\AppData\Roaming\Typora\typora-user-images\image-20241213091641272.png)

![image-20241213091828871](C:\Users\33274\AppData\Roaming\Typora\typora-user-images\image-20241213091828871.png)

Flink CDC在监听实时数据中无法监听增、删、改的数据的解决方法

主要就是环境的问题，进入服务器输出 ：vim /etc/my.cnf中

![image-20241213092522582](C:\Users\33274\AppData\Roaming\Typora\typora-user-images\image-20241213092522582.png)

最后在重启MySql	

重启的命令：sudo systemctl restart mysqld

